<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/layouts/standard.xhtml">

    <ui:define name="title">Available enrollments</ui:define>

    <ui:define name="notes">
        <h5>List:</h5>
        <p style="color:#990000">
            Following flows should be made embedded flow in the tabs @down. Unfortunetly I didn't manage to make it
            embedded flow so I made a couple of buttons which redirects to those flows and later we will put it into
            tabs...
        </p>
        <hr/>
    </ui:define>

    <ui:define name="content">
        <h:form>
            <p:commandButton value="Configuration (not available yet)" action="configuration" ajax="false"/>
            <p:commandButton value="People" action="people" ajax="false"/>
            <p:commandButton value="Subjects" action="subjects" ajax="false"/>
            <p:commandButton value="Terms" action="terms" ajax="false"/>
            <p:commandButton value="Groups (not available yet)" action="groups" ajax="false"/>
            <p:commandButton value="Impossibilities" action="impossibilities" ajax="false"/>
            <p:commandButton value="Generate files" action="generateFiles" ajax="fasle"/>
            <p:commandButton value="Import file" action="importFile" ajax="false"/>
        </h:form>
        <br/><br/><br/><br/><br/>


        <p:tabView>
            <p:tab title="Configuration">
                <h:form id="Configuration">
                    <p:messages/>
                    <p>
                        <p:commandButton value="Start Sub-Flow" action="start" update="Configuration"/>&nbsp;
                    </p>
                </h:form>
            </p:tab>

            <p:tab title="Advanced Ajax">
                <ul>
                    <li>
                        <h:outputLink value="autocomplete?tab=1" >
                            <h:outputText value="Auto-complete" />
                        </h:outputLink><br/>
                        <span class="alt">PrimeFaces Auto-complete component.</span>
                    </li>
                    <li>
                        <h:outputLink value="modal-dialog-in-view?tab=1" >
                            <h:outputText value="Modal Dialog In View" />
                        </h:outputLink><br/>
                        <span class="alt">Display a modal dialog without leaving the current view state.</span>
                    </li>
                    <li>
                        <h:outputLink value="top-flow-with-embedded-subflow?tab=1" >
                            <h:outputText value="Top Flow with Embedded Sub-Flow" />
                        </h:outputLink><br/>
                        <span class="alt">Top flow with a sub-flow embedded within it without causing any redirects or a full page refresh.</span>
                    </li>
                    <li>
                        <h:outputLink value="poller?tab=1" >
                            <h:outputText value="Polling" />
                        </h:outputLink><br/>
                        <span class="alt">Shows PrimeFaces poller component accesses server-side Web Flow data.</span>
                    </li>
                </ul>
            </p:tab>

            <p:tab title="Validation">
                <ul>
                    <li>
                        <h:outputLink value="validation-bean?tab=2" >
                            <h:outputText value="Bean Validation" />
                        </h:outputLink><br/>
                        <span class="alt">JSR-303 Bean Validation Annotations.</span>
                    </li>
                    <li>
                        <h:outputLink value="validation-model?tab=2" >
                            <h:outputText value="Model Validation" />
                        </h:outputLink><br/>
                        <span class="alt">Web Flow specific mechanism with validation methods in the model object.</span>
                    </li>
                </ul>
            </p:tab>

            <p:tab title="Miscellaneous">
                <h5>Comments: </h5>
                <ul>
                    <li>
                        <h:outputLink value="spring-security-taglib?tab=3" >
                            <h:outputText value="Spring Security Facelets Tag Library" />
                        </h:outputLink><br/>
                        <span class="alt">Demonstrates use of the Spring Security Facelets tag library.</span>
                        <p class="notice">
                            The above flow definition is protected with Spring Security.
                            You'll be redirected to a login page the first time.
                        </p>
                    </li>
                    <li>
                        <h:outputLink value="file-upload?tab=3" >
                            <h:outputText value="File Upload" />
                        </h:outputLink><br/>
                        <span class="alt">Uses the PrimeFaces fileUpload component to demonstratie uploading a file.</span>
                    </li>
                </ul>
            </p:tab>

            <p:tab title = "Persistence">
                <ul>
                    <li>
                        <h:outputLink value="persistence-test?tab=4">
                            <h:outputText value="Persistence Test" />
                        </h:outputLink>
                        <span class="alt">Uses JPA and Hibernate to persist people. UI in PrimeFaces.</span>
                    </li>
                    <li>
                        <h:outputLink value="sample-add?tab=4">
                            <h:outputText value="Another persistence test" />
                        </h:outputLink>
                        <span class="alt">List of people in database + adding new ones.</span>
                    </li>
                </ul>
            </p:tab>

            <p:tab title="Prototypes">
                <ul>
                    <li>
                        <h:outputLink value="configuration?tab=5" >
                            <h:outputText value="Change the configuration" />
                        </h:outputLink><br/>
                        <span class="alt">Simple view with one InputText - attempt to use Hibernate for persistency of configuration</span>
                    </li>
                </ul>
            </p:tab>

            <p:tab title="Admin Panel">
                <ul>
                    <li>
                        <h:outputLink value="admin-panel?tab=6" >
                            <h:outputText value="Admin panel" />
                        </h:outputLink><br/>

                        <!-- <h:dataTable value="${conversationScope.globalEnrollmentList}" var="e">
                            <h:column>
                                #{e.id}
                            </h:column>
                            <h:column>
                                #{e.firstName}
                            </h:column>
                        </h:dataTable> -->

                        <span class="alt">Admin panel - choose enrollment</span>
                    </li>
                </ul>
            </p:tab>

            <!--
                popup with form validation
                popup with multiple state transitions
                breadcrumb(http://forum.springsource.org/showthread.php?t=94207)
                custom jsf component
                jpa persistence
                file upload
             -->

        </p:tabView>





        <h:outputText value="#{currentEnrollment.name} + #{currentEnrollment.enrollID}"/>
    </ui:define>

</ui:composition>